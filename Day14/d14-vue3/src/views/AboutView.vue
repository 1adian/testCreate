<template>
  <h3>Vue3Reactiveå®ç°å¯¹è±¡ç±»å‹æ•°æ®çš„å“åº”å¼</h3>
  <p>å§“åï¼š{{ stu.name }}</p>
  <p>å¹´é¾„ï¼š{{ stu.age }}</p>
  <p>è‹±è¯­ï¼š{{ stu.score.english }}</p>
  <p>æ•°å­¦ï¼š{{ stu.score.shuxue }}</p>
  <p>æµ‹è¯• c :{{ stu.a.b.c }}</p>
  <p>çˆ±å¥½ï¼š{{ stu.hobby }}</p>
  <p><button @click="change">ä¿®æ”¹nameå’Œage</button></p>
</template>

<script>
import { reactive } from "vue";
export default {
  setup() {
    // å¤„ç†å¯¹è±¡  ref({}) å€ŸåŠ© reactiveæ¥å®ç°çš„å“åº”å¼
    // ä»£ç†å¯¹è±¡  æºå¯¹è±¡

    // obj å¯¹è±¡ å¹¶ä¸å…·æœ‰æ•°æ®çš„å“åº”æ€§
    const obj = {
      name: "zhangsan",
      age: 18,
      score: {
        english: 19,
        shuxue: 99,
      },
      // æ·±å±‚æ¬¡
      a: {
        b: {
          c: 1,
        },
      },
      hobby: ["âš½ï¸", "ğŸ€", "ğŸ“"],
    };

    // stu å³ä½¿ç”¨äº† Proxy ä¸º `obj` å®ç°äº†æ•°æ®çš„å“åº”æ€§
    let stu = reactive(obj);

    // å®šä¹‰æ–¹æ³•
    const change = () => {
      // æ³¨ï¼š reactive å¤„ç†å¯¹è±¡ï¼Œä½¿å…¶ å…·æœ‰å“åº”æ€§ä¹‹åï¼Œä¸éœ€è¦ .value ä»¥è§¦å‘å…¶å“åº”æ€§
      stu.name = "æå››";
      stu.age = 98;
      // reactive({})  ä¿®æ”¹é‡Œé¢çš„å±æ€§  ä¸éœ€è¦å† .value
      stu.score.english = 100;
      stu.hobby[1] = "ç¯®çƒ";
    };

    return { stu, change };
  },
};
</script>
<style lang="" scoped></style>
